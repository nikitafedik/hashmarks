# Load bookmarks from BOOKMARK_FILE into named directory hash table.

init_hashmarks() {
  emulate -L zsh
  # Minimal, robust: read file and (re)hash every entry; no state tracking
  local file key dir
  file=$(_zb_file)
  [[ -r $file ]] || return 0
  while IFS='=' read -r key dir; do
    [[ -z $key || -z $dir ]] && continue
    case $dir in
      "~"*) dir="${dir/#\~/$HOME}" ;;
    esac
    hash -d "$key=$dir" 2>/dev/null || true
  done < "$file"
}
